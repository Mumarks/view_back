define("Main/MeasureTool",["Libras"],function(i){var e=i.ScreenSpaceEventHandler,t=i.LabelCollection,n=i.defined,r=i.Cartographic,o=i.HorizontalOrigin,a=i.VerticalOrigin,s=i.ScreenSpaceEventType;function c(){this.rightHandler={},this.label={}}return c.prototype.measureStart=function(i){var c=i.scene,l=this.label=c.primitives.add(new t),p=new e(i.canvas);this.rightHandler=p.setInputAction(function(e){var t=i.scene.pick(e.position);if(n(t)&&c.pickPositionSupported){var s=c.pickPosition(e.position);if(n(s)){var p=r.fromCartesian(s).height.toFixed(2)+" m";l.add({position:s,text:p,showBackground:!0,font:"16px monospace",horizontalOrigin:o.LEFT,verticalOrigin:a.BOTTOM,disableDepthTestDistance:Number.POSITIVE_INFINITY})}}},s.LEFT_CLICK)},c.prototype.measureRemove=function(){this.rightHandler&&this.rightHandler.destroy(),this.label&&this.label.destroy()},c});
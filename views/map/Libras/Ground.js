define(["Libras","./layers/ElevationLayer"],function(e,r){e.AssociativeArray,e.Check;return function(i){this.viewer=i,this.layer=new e.AssociativeArray,this.defaultElevationLayer=i.scene.terrainProvider;var t=this;this.layer.add=function(a){if(e.Check.typeOf.object("layer",a),!(a instanceof r))throw new Error("the layer type error");if(this.contains(a.id))throw new Error("A ElevationLayer whit id"+a.id+"already exist in this collection");t.layer.set(a.id,a),i.scene.terrainProvider=a},this.layer.remove=function(){return t.layer.removeAll(),i.scene.terrainProvider=t.defaultElevationLayer,!0}}});
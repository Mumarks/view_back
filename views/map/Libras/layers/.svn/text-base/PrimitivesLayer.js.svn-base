define(["Libras"],function(i){var e=i.createGuid,t=i.Check,r=i.AssociativeArray,s=i.RuntimeError;function n(i){this._items=new r,this.id=i&&i.id||e(),this.items=this._items._array,this.length=this._items.length}return n.prototype.findPrimitiveById=function(i){return t.typeOf.string("id",i),this._items.get(i)},n.prototype.add=function(i){t.typeOf.object("primitive",i);var e=i.id,r=this._items;if(r.contains(e))throw new s("A primitive with id "+e+" already exist in this collection");return r.set(e,i),this.viewer?(this.viewer.scene.primitives.add(i),this.viewer.scene.requestRender(),i):i},n.prototype.remove=function(i){if(t.typeOf.object("primitive",i))this._items.remove(i.id);else{if(!t.typeOf.string("primitive",i))throw new Error("type error");this._items.remove(i)}},n});
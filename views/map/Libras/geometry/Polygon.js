define(["Libras"],function(r){var i=r.defaultValue,n=r.Cartesian3,s=r.RuntimeError,e=r.defined;return function(r){if(!e(r))throw new s("options is required");if(!e(r.rings))throw new s("rings is required");var g,t=[],o=[],h="";if(r.rings[0]instanceof n)g=r.rings;else{for(var a in r.rings){var f=[];if(r.rings[a]){for(var l in r.rings[a])r.rings[a][l]instanceof Array?f.push(r.rings[a][l][0],r.rings[a][l][1]):t.push(r.rings[a][l]);h+=r.rings[a][0]+" "+r.rings[a][1]+",",r.rings[a][0]instanceof Array&&o.push(f)}}if(r.rings[0][0]!==r.rings[r.rings.length-1][0]&&r.rings[0][1]!==r.rings[r.rings.length-1][1]&&(h+=r.rings[0][0]+" "+r.rings[0][1]+","),o.length>1&&o[0]instanceof Array){g={positions:n.fromDegreesArray(o[0])};var p={};for(a=o.length-1;a>0;a--){var u=p;p={},a!==o.length-1&&(p.holes=[u]),p.positions=n.fromDegreesArray(o[a])}g.holes=[p]}else g=r.perPositionHeight?n.fromDegreesArrayHeights(t):n.fromDegreesArray(t)}this.hierarchy=g,this.WKTContent="Polygon(("+h.substring(0,h.length-1)+"))",this.rings=r.rings,this.height=r.perPositionHeight?r.height:i(r.height,0),this.perPositionHeight=r.perPositionHeight,this.type="polygon"}});
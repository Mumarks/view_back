define(["Libras","../_Color"],function(t,e){var a=t.defaultValue,r=t.defined,i=(t.Check,t.BillboardGraphics),h=t.RuntimeError;return function(t){if(!r(t))throw new h("the options is required");t.image=t.url,t.height=a(t.height,20),t.width=a(t.width,20);var e=this;this.__proto__=i.prototype;var o=t.style;if(o){if("circle"==o.type){var l=new Image;l.src=t.url,l.onload=function(){t.image=function(t,e){var a=document.createElement("canvas"),r=a.getContext("2d");a.width=e,a.height=e,r.strokeStyle="#fff";var i=e/2,h=Math.round(5*e/6);r.beginPath(),r.moveTo(i,h),r.arc(i,h,3*e/20,0,2*Math.PI,!1),r.fillStyle="rgba(3, 252, 249,0.2)",r.fill(),r.beginPath(),r.arc(i,h,e/12,0,2*Math.PI,!1),r.fillStyle="rgb(3, 252, 249)",r.lineWidth=Math.round(e/75),r.fill(),r.stroke(),r.beginPath(),r.moveTo(Math.round(9*e/20),Math.round(7*e/12)),r.lineTo(Math.round(11*e/20),Math.round(7*e/12)),r.lineTo(Math.round(e/2),Math.round(19*e/30)),r.closePath(),r.fillStyle="#fff",r.fill();var o=Math.round(4*e/15);r.beginPath();var l,n,d=Math.round(e/2),u=Math.round(e/3);r.arc(d,u,o,0,2*Math.PI,!1),r.clip(),t.width>t.height?(l=2*o,n=t.width/t.height*l):(n=2*o,l=t.height/t.width*n);var i=Math.round(d-n/2),h=Math.round(u-l/2);return r.drawImage(t,i,h,n,l),r.lineWidth=Math.round(e/30),r.stroke(),a.toDataURL()}(l,64),i.call(e,t),this.symbolKey="billboard"}}}else i.call(e,t),this.symbolKey="billboard"}});
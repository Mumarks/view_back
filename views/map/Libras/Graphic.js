define(["Libras","./symbols/Symbols","./geometry/GraphicsGeometry"],function(e,t,o){var p=e.Check,i=e.defaultValue,n=e.Entity,r=e.RuntimeError,l=e.Transforms;return function(e){if(!e)throw new r("options is required");if(p.typeOf.object("options",e),!e)throw new r("geometry is required");if(p.typeOf.object("geometry",e.geometry),!e.symbol)throw new r("symbol is required");p.typeOf.object("symbol",e.symbol),e.popupTemplate&&p.typeOf.object("options",e.popupTemplate),i(e.geometry.longitude,0),i(e.geometry.latitude,0);var s=new t(e.symbol),m=new o(e.geometry),y={};y="point"!==m.type?Object.assign(s,m):s;var a={show:i(e.visible,!0),position:m};"web-style"===e.symbol.type&&(a.orientation=l.headingPitchRollQuaternion(m,s.hpr)),e.id&&(a.id=e.id),y.symbolKey&&(a[y.symbolKey]=y);var u=new n(a);return u.popupEnabled=e.popupEnabled,e.popupTemplate&&(u.popupTemplate={id:e.popupTemplate.id,title:e.popupTemplate.title,content:e.popupTemplate.content,actions:e.popupTemplate.actions}),u}});